%%-----------------------------------------------------------------------------
%% LaTeX style template for Bachelor/Master Thesis in the
%% Faculty of Electrical Engineering and Information Technology
%% by: Prof. Dr.-Ing. Michael Mecking, Technische Hochschule Ingolstadt
%%-----------------------------------------------------------------------------

\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
	\hbox{}
	\vspace*{\fill}
	\begin{center}
	\end{center}
	\vspace{\fill}
	\thispagestyle{empty}
	\newpage
	\if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother

\clearpage{\pagestyle{empty}\cleardoublepage}
\pagestyle{fancy}
\setlength{\headheight}{25pt}
\renewcommand{\sectionmark}[1]{\markright{\thesection.\ #1}}

%%-----------------------------------------------------------------------------
%% for better readbility
\linespread{1.3}

\makeatletter
\def\@subtitle{\@latex@warning@no@line{No \noexpand\subtitle given}}
\def\subtitle#1{\gdef\@subtitle{#1}}
\def\subject#1{\gdef\@subject{#1}}
\def\@affiliation{\@latex@warning@no@line{No \noexpand\affiliation given}}
\def\affiliation#1{\gdef\@affiliation{#1}}
\def\@examiner{\@latex@warning@no@line{No \noexpand\examiner given}}
\def\examiner#1{\gdef\@examiner{#1}}
\def\@examinerb{\@latex@warning@no@line{No \noexpand\examinerb given}}
\def\examinerb#1{\gdef\@examinerb{#1}}
\def\@advisor{\@latex@warning@no@line{No \noexpand\advisor given}}
\def\advisor#1{\gdef\@advisor{#1}}
\def\@registered{\@latex@warning@no@line{No \noexpand\registered given}}
\def\registered#1{\gdef\@registered{#1}}
\def\@submitted{\@latex@warning@no@line{No \noexpand\submitted given}}
\def\submitted#1{\gdef\@submitted{#1}}
\def\supervisorAffiliation#1{\gdef\@supervisorAffiliation{#1}}

%%-----------------------------------------------------------------------------
%% Definition of Titlepage
\def\maketitle{
    \begin{titlepage}
        \vspace*{-5ex}
        \hfill 
        \includegraphics[clip=,scale=.2]{thi_logo_b_RGB.png}
        %\vspace*{4ex}
	    \begin{center}
		    {\LARGE \textsc{Technische Hochschule Ingolstadt}} \\[3.5ex]
		    {\Large Faculty of Electrical Engineering and \\
            Information Technology\\[2ex]
            \rule[4pt]{2.05in}{1.2pt} \quad Master Thesis \quad \rule[4pt]
            {2.05in}{1.2pt}\\[2ex]
		    in the Master's Programme AI Engineering of Autonomous Systems}
	    \end{center}
        \vspace*{1ex}
        \begin{center}
            {\Huge \textbf{~\\ \@title} \\}
        \end{center}
        \vspace*{2ex}
        \begin{center}
  	        %{\huge \textsc{\@subtitle} \\[2ex] }
            {\Large \@author  \\}
        \end{center}
        \vspace*{\fill}
	    \begin{flushleft}
            {\large
		    \begin{tabular}{ l l }
                Examiner: & \@examiner \\ 
                2nd Examiner: & \@examinerb \\
                Company Advisor: & \@advisor \\
                \\
                Registered on: & \@registered \\
                Submitted on: & \@submitted
            \end{tabular}}
	    \end{flushleft}	
    \end{titlepage}%
}

\newcommand\@shorttitle{}
% define \theshorttitle to what is given
\newcommand\shorttitle[1]{\renewcommand\@shorttitle{#1}}

%%-----------------------------------------------------------------------------
%% Definition of Chapter Appearance

% Define a custom chapter style with full-width horizontal lines
\newcommand{\mychapterstyle}[1]{
  \vspace{0.5em} % space before the title  
  \begin{center}
    \Huge \bfseries \thechapter % chapter number in Huge
  \end{center}
  \vspace{-1.5em} % space after the chapter number
  \noindent\rule{\textwidth}{1.2pt} \\[-0.25em] % tull-width horizontal line 
                                  % after chapter number (for numbered chapters)
  \begin{center}
    \vspace*{-1.7em}
    \huge \bfseries #1 % title in huge
  \end{center}
  \vspace{-1.5em} % space after title
  \noindent\rule{\textwidth}{1.2pt} \\[0.25em] % full-width horizontal line 
}

% Define a custom chapter style for unnumbered chapters
\newcommand{\mychapterstyleunnum}[1]{
  \vspace{0.5em} % space before the title
  \begin{center}
    \huge \bfseries #1 % title in huge for unnumbered chapters
  \end{center}
  \vspace{-1.5em} % space after the title
  \noindent\rule{\textwidth}{1.2pt} \\[0.25em] % full-width horizontal line 
}

% Set the chapter format using \mychapterstyle
\titleformat{\chapter}[display]
  {\centering} % centering the title
  {} % no chapter number
  {0pt} % no space between number and title
  {\mychapterstyle} % custom command for chapter title style

% Set the chapter format for unnumbered chapters
\titleformat{name=\chapter,numberless}[display]
  {\centering} % centering the title
  {} % no chapter number
  {0pt} % no space between number and title
  {\mychapterstyleunnum} % custom command for unnumbered chapter style

% Set the chapter spacing
\titlespacing*{\chapter}{0pt}{-50pt}{50pt} % space before / after chapter

%%-----------------------------------------------------------------------------
%% Definition of Headers / Footers
\fancyhf{}
\renewcommand{\headrulewidth}{0.1pt}
\fancyhead[R]{\includegraphics[width=0.5cm]{thi_logo_b_RGB.png} }
\raggedbottom
\fancypagestyle{plain}{%
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
    \fancyhf[cf]{\thepage}
}

% Set the chapter title in the left header
\fancyhead[L]{\leftmark}
% Ensure chapter marks are properly set
\renewcommand{\chaptermark}[1]{\markboth{\thechapter.\ #1}{}}
\cfoot{ \thepage}

\makeatother

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{1.0,1.0,1.0}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=t,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}

\newcommand\blankpage{%
    \null
    \thispagestyle{empty}%
    \addtocounter{page}{-1}%
    \newpage}
